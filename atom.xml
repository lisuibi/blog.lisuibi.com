<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>致梦de博客</title>
  
  <subtitle>学习</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://lisuibi.github.io/"/>
  <updated>2019-12-30T08:27:51.339Z</updated>
  <id>https://lisuibi.github.io/</id>
  
  <author>
    <name>John Doe</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>redis 实现限流</title>
    <link href="https://lisuibi.github.io/2019/12/30/redis-%E5%AE%9E%E7%8E%B0%E9%99%90%E6%B5%81/"/>
    <id>https://lisuibi.github.io/2019/12/30/redis-实现限流/</id>
    <published>2019-12-30T08:08:03.000Z</published>
    <updated>2019-12-30T08:27:51.339Z</updated>
    
    <content type="html"><![CDATA[<h4 id="在家太无聊了，写一个redis实现限流，最主要功能实现用户10秒内只能请求5次。（都是些基础的东西）"><a href="#在家太无聊了，写一个redis实现限流，最主要功能实现用户10秒内只能请求5次。（都是些基础的东西）" class="headerlink" title="在家太无聊了，写一个redis实现限流，最主要功能实现用户10秒内只能请求5次。（都是些基础的东西）"></a>在家太无聊了，写一个redis实现限流，最主要功能实现用户10秒内只能请求5次。（都是些基础的东西）</h4><p><font face="微软雅黑" size=4 color='red'>大概逻辑：用户刷新一次页面，redis把当前时间推进list队列，队列设置过期时间为10秒。如果当前队列长度大于5，则判断当前时间减去最新推进队列的时间是否小于10，如果小于10，则请求频繁，请稍后再试。</font></p><p>贴上代码：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">/**</span><br><span class="line"> * 实现限流功能</span><br><span class="line"> * 10秒内只能请求5次</span><br><span class="line"> */</span><br><span class="line">//连接redis服务器</span><br><span class="line">$redis = new redis();</span><br><span class="line">$redis-&gt;connect(&apos;127.0.0.1&apos;,6379);</span><br><span class="line"></span><br><span class="line">//获取客户端ip</span><br><span class="line">$ip = $_SERVER[&apos;REMOTE_ADDR&apos;];</span><br><span class="line">//设置次数</span><br><span class="line">$limit = 5;</span><br><span class="line"></span><br><span class="line">//判断当前ip的访问次数是否小于5</span><br><span class="line">if($redis-&gt;llen($ip)&lt;$limit)&#123;</span><br><span class="line">    //列表推进队列</span><br><span class="line">    $redis-&gt;lpush($ip,time());</span><br><span class="line">    //设置过期时间</span><br><span class="line">    $redis-&gt;expire($ip,10);</span><br><span class="line">    echo &apos;正常访问&apos;;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    //获取最新推进列表的时间</span><br><span class="line">    $lasttime = $redis-&gt;lIndex($ip,0);</span><br><span class="line">    //如果当前时间减去最后请求时间小于10秒，说明10秒时间还没过</span><br><span class="line">    if(time()-$lasttime&lt;20)&#123;</span><br><span class="line">        exit(&apos;请求频繁，请稍后重试&apos;);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">echo &quot;&lt;pre&gt;&quot;;</span><br><span class="line">var_dump($redis-&gt;lRange($ip,0,-1));</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;在家太无聊了，写一个redis实现限流，最主要功能实现用户10秒内只能请求5次。（都是些基础的东西）&quot;&gt;&lt;a href=&quot;#在家太无聊了，写一个redis实现限流，最主要功能实现用户10秒内只能请求5次。（都是些基础的东西）&quot; class=&quot;headerlink&quot;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>win10 安装mongodb</title>
    <link href="https://lisuibi.github.io/2019/12/26/win-%E5%AE%89%E8%A3%85mongodb/"/>
    <id>https://lisuibi.github.io/2019/12/26/win-安装mongodb/</id>
    <published>2019-12-26T01:36:00.000Z</published>
    <updated>2019-12-26T05:59:35.944Z</updated>
    
    <content type="html"><![CDATA[<h3 id="教程记录win安装mongodb"><a href="#教程记录win安装mongodb" class="headerlink" title="教程记录win安装mongodb"></a>教程记录win安装mongodb</h3><p>安装前先到mongodb官网下载mongodb,附上链接<a href="https://www.mongodb.com/download-center/community" target="_blank" rel="noopener">https://www.mongodb.com/download-center/community</a><br><img src="/images/20191226094024.png" alt=""></p><p>下载完成之后会得到一个mongodb的zip文件压缩包。</p><p>直接进行解压文件，我是解压到E:\mongodb。<br><img src="/images/20191226094649.png" alt=""></p><h3 id="创建数据目录-在当前mongodb安装目录键入cmd-："><a href="#创建数据目录-在当前mongodb安装目录键入cmd-：" class="headerlink" title="创建数据目录(在当前mongodb安装目录键入cmd)："></a>创建数据目录(在当前mongodb安装目录键入cmd)：</h3><p><img src="/images/20191226095508.png" alt=""></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mkdir data</span><br><span class="line">cd data</span><br><span class="line">mkdir db</span><br><span class="line">mkdir log</span><br></pre></td></tr></table></figure><p>附上图：</p><p><img src="/images/20191226100503.png" alt=""><br><img src="/images/20191226100543.png" alt=""></p><p>db用来保存数据库文件，log用来保存日志文件。</p><p>你也可以通过 window 的资源管理器中创建这些目录，而不一定通过命令行。</p><h3 id="新建mongo-conf："><a href="#新建mongo-conf：" class="headerlink" title="新建mongo.conf："></a>新建mongo.conf：</h3><p><img src="/images/20191226101953.png" alt=""><br>配置内容如下（具体路径根据自己创建的目录路径）</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">dbpath=E:\mongodb\data\db  </span><br><span class="line">logpath=E:\mongodb\data\log\mongodb.log</span><br></pre></td></tr></table></figure><p><img src="/images/20191226102143.png" alt=""></p><h3 id="启动MongoDB："><a href="#启动MongoDB：" class="headerlink" title="启动MongoDB："></a>启动MongoDB：</h3><p>切换到bin目录，键入cmd，输入：mongod –config “E:\mongodb\mongo.conf”</p><p>查看data目录和log目录是否有文件生成，如下则启动成功：<br><img src="/images/20191226102611.png" alt=""></p><p><img src="/images/20191226102636.png" alt=""></p><h3 id="验证："><a href="#验证：" class="headerlink" title="验证："></a>验证：</h3><p>打开浏览器，输入<a href="http://localhost:27017/，" target="_blank" rel="noopener">http://localhost:27017/，</a> 如下说明启动成功<br><img src="/images/20191226102857.png" alt=""></p><h3 id="连接："><a href="#连接：" class="headerlink" title="连接："></a>连接：</h3><p>在bin目录键入cmd，输入mongo<br><img src="/images/20191226103045.png" alt=""><br>连接成功后输入一些命令来查看：<br><img src="/images/20191226103301.png" alt=""></p><h3 id="作为系统服务："><a href="#作为系统服务：" class="headerlink" title="作为系统服务："></a>作为系统服务：</h3><p>以上启动服务器只是一次性的，当关闭了命令窗口，服务器就会关闭。可以将mongodb作为windows服务，然后通过命令控制来随时开启或关闭，以方便使用。</p><p>切换到bin目录，并以管理员身份运行，输入mongod –config “E:\mongodb\mongo.conf” –install –serviceName “mongodb”<br><img src="/images/20191226104128.png" alt=""><br>打开系统服务查看<br><img src="/images/20191226105925.png" alt=""></p><h3 id="通过win命令启动mongodb服务"><a href="#通过win命令启动mongodb服务" class="headerlink" title="通过win命令启动mongodb服务"></a>通过win命令启动mongodb服务</h3><p>确保是在管理员用户，切换到bin文件夹，输入：net stop mongodb，</p><p>等关闭完成：<br><img src="/images/20191226110347.png" alt=""></p><h3 id="配置环境变量-根据自己mongodb的bin目录路径"><a href="#配置环境变量-根据自己mongodb的bin目录路径" class="headerlink" title="配置环境变量(根据自己mongodb的bin目录路径)"></a>配置环境变量(根据自己mongodb的bin目录路径)</h3><p><img src="/images/20191226125812.png" alt=""></p><p><img src="/images/20191226130149.png" alt=""></p><p><img src="/images/20191226130248.png" alt=""></p><h3 id="编写bat文件用于启动和关闭mongodb服务"><a href="#编写bat文件用于启动和关闭mongodb服务" class="headerlink" title="编写bat文件用于启动和关闭mongodb服务"></a>编写bat文件用于启动和关闭mongodb服务</h3><p>新建startMongodb.bat和stopMongodb.bat文件<br><img src="/images/20191226130645.png" alt=""></p><p>startMongodb.bat中：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net start mongodb</span><br></pre></td></tr></table></figure><p>stopMongodb.bat中：</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">net stop mongodb</span><br></pre></td></tr></table></figure><h4 id="bat启动时："><a href="#bat启动时：" class="headerlink" title="bat启动时："></a>bat启动时：</h4><p>右键startMongodb.bat文件，以管理员身份运行</p><p><img src="/images/20190224163953229.png" alt=""></p><h4 id="bat关闭时"><a href="#bat关闭时" class="headerlink" title="bat关闭时:"></a>bat关闭时:</h4><p>右击stopMongodb.bat，以管理员运行：<br><img src="/images/20190224164057554.png" alt=""></p><p>以上就完成了！！奋斗吧，骚年！！</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;教程记录win安装mongodb&quot;&gt;&lt;a href=&quot;#教程记录win安装mongodb&quot; class=&quot;headerlink&quot; title=&quot;教程记录win安装mongodb&quot;&gt;&lt;/a&gt;教程记录win安装mongodb&lt;/h3&gt;&lt;p&gt;安装前先到mongodb官网
      
    
    </summary>
    
    
    
      <category term="-php" scheme="https://lisuibi.github.io/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>国内常用的镜像源</title>
    <link href="https://lisuibi.github.io/2019/12/16/%E6%80%BB%E7%BB%93%E4%B8%80%E4%BA%9B%E9%95%9C%E5%83%8F%E6%BA%90/"/>
    <id>https://lisuibi.github.io/2019/12/16/总结一些镜像源/</id>
    <published>2019-12-16T01:54:00.000Z</published>
    <updated>2019-12-16T02:03:41.872Z</updated>
    
    <content type="html"><![CDATA[<h3 id="总结一些国内的镜像源，方便以后使用"><a href="#总结一些国内的镜像源，方便以后使用" class="headerlink" title="总结一些国内的镜像源，方便以后使用"></a>总结一些国内的镜像源，方便以后使用</h3><h4 id="清华大学镜像站-https-mirrors-tuna-tsinghua-edu-cn"><a href="#清华大学镜像站-https-mirrors-tuna-tsinghua-edu-cn" class="headerlink" title="清华大学镜像站: https://mirrors.tuna.tsinghua.edu.cn"></a>清华大学镜像站: <a href="https://mirrors.tuna.tsinghua.edu.cn" target="_blank" rel="noopener">https://mirrors.tuna.tsinghua.edu.cn</a></h4><h4 id="网易云镜像站：http-mirrors-163-com"><a href="#网易云镜像站：http-mirrors-163-com" class="headerlink" title="网易云镜像站：http://mirrors.163.com"></a>网易云镜像站：<a href="http://mirrors.163.com" target="_blank" rel="noopener">http://mirrors.163.com</a></h4><h4 id="腾讯镜像站：https-mirrors-cloud-tencent-com"><a href="#腾讯镜像站：https-mirrors-cloud-tencent-com" class="headerlink" title="腾讯镜像站：https://mirrors.cloud.tencent.com"></a>腾讯镜像站：<a href="https://mirrors.cloud.tencent.com" target="_blank" rel="noopener">https://mirrors.cloud.tencent.com</a></h4><h4 id="阿里镜像站：-https-developer-aliyun-com-mirror"><a href="#阿里镜像站：-https-developer-aliyun-com-mirror" class="headerlink" title="阿里镜像站： https://developer.aliyun.com/mirror"></a>阿里镜像站： <a href="https://developer.aliyun.com/mirror" target="_blank" rel="noopener">https://developer.aliyun.com/mirror</a></h4><h4 id="以上镜像源，首选网易和阿里云，相对稳定！！"><a href="#以上镜像源，首选网易和阿里云，相对稳定！！" class="headerlink" title="以上镜像源，首选网易和阿里云，相对稳定！！"></a>以上镜像源，首选网易和阿里云，相对稳定！！</h4>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h3 id=&quot;总结一些国内的镜像源，方便以后使用&quot;&gt;&lt;a href=&quot;#总结一些国内的镜像源，方便以后使用&quot; class=&quot;headerlink&quot; title=&quot;总结一些国内的镜像源，方便以后使用&quot;&gt;&lt;/a&gt;总结一些国内的镜像源，方便以后使用&lt;/h3&gt;&lt;h4 id=&quot;清华大学镜
      
    
    </summary>
    
    
    
      <category term="其它" scheme="https://lisuibi.github.io/tags/%E5%85%B6%E5%AE%83/"/>
    
  </entry>
  
  <entry>
    <title>VMware15安装CentOS 7</title>
    <link href="https://lisuibi.github.io/2019/12/15/VMware15%E5%AE%89%E8%A3%85centos7/"/>
    <id>https://lisuibi.github.io/2019/12/15/VMware15安装centos7/</id>
    <published>2019-12-15T09:58:00.000Z</published>
    <updated>2019-12-16T01:53:53.289Z</updated>
    
    <content type="html"><![CDATA[<h4 id="本篇文章记录vmware15安装CentOS7"><a href="#本篇文章记录vmware15安装CentOS7" class="headerlink" title="本篇文章记录vmware15安装CentOS7"></a>本篇文章记录vmware15安装CentOS7</h4><h5 id="今天刚开始是用win10自带的hyper安装CentOS7，中途遇到一点问题，就打算用VM15安装CentOS7。记录一下，免得下次掉坑。"><a href="#今天刚开始是用win10自带的hyper安装CentOS7，中途遇到一点问题，就打算用VM15安装CentOS7。记录一下，免得下次掉坑。" class="headerlink" title="今天刚开始是用win10自带的hyper安装CentOS7，中途遇到一点问题，就打算用VM15安装CentOS7。记录一下，免得下次掉坑。"></a>今天刚开始是用win10自带的hyper安装CentOS7，中途遇到一点问题，就打算用VM15安装CentOS7。记录一下，免得下次掉坑。</h5><p>1.首先安装VM15，这里我把安装包放到了百度网盘里，大家可以直接下载！<br>链接：<a href="https://pan.baidu.com/s/1Jro9KzkRfDIDd2SnDFMqcw" target="_blank" rel="noopener">https://pan.baidu.com/s/1Jro9KzkRfDIDd2SnDFMqcw</a><br>提取码：mnpa</p><p>2.下载CentOS7镜像文件，我是到网易云镜像站下载的。<br>链接：<a href="http://mirrors.163.com/centos/7/isos/x86_64" target="_blank" rel="noopener">http://mirrors.163.com/centos/7/isos/x86_64</a><br>下面有很多版本，我下载的是CentOS-7-x86_64-Minimal-1908版本（具体版本区别自行百度）：<br><img src="/images/20191215180454.png" alt=""></p><p>3.VM15创建虚拟机<br><img src="/images/20191215180948.png" alt=""></p><p><img src="/images/20191215181033.png" alt=""></p><p><img src="/images/20191215181235.png" alt=""></p><p><img src="/images/20191215181416.png" alt=""></p><p><img src="/images/20191215181533.png" alt=""></p><p><img src="/images/20191215181716.png" alt=""></p><p><img src="/images/20191215182303.png" alt=""></p><p><img src="/images/20191215182556.png" alt=""><br>到这里，虚拟机就配置好了（可能有些还需要配置一些东西）<br>现在我们开启此虚拟机，一般第一次等待时间比较长，后续就不会这样了。<br><img src="/images/20191215182712.png" alt=""></p><p>4.CentOS 7 安装</p><ol><li><p>选择 Install CentOS 7， 等待系统安装.</p><p><img src="/images/20190117202426317.png" alt=""></p></li><li><p>选择语言 可以选择中文</p><p><img src="/images/20190117202434646.png" alt=""></p></li><li><p>加载一会后， 点击 软件选择。我安装的Minimal版本是没有选择的。</p><p><img src="/images/20190117202447619.png" alt=""></p></li><li><p>设置ROOT密码. 漫长的等待期… 等待后 重启就可以使用你的CentOS了<br><img src="/images/20190117202502573.png" alt=""></p><p><img src="/images/2019011720251619.png" alt=""></p><p><img src="/images/20191215191839.png" alt=""></p><p>到这里，CentOS7就安装好了…..<br><img src="/images/3279339690.jpg" alt=""></p></li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;本篇文章记录vmware15安装CentOS7&quot;&gt;&lt;a href=&quot;#本篇文章记录vmware15安装CentOS7&quot; class=&quot;headerlink&quot; title=&quot;本篇文章记录vmware15安装CentOS7&quot;&gt;&lt;/a&gt;本篇文章记录vmware15安装C
      
    
    </summary>
    
    
    
      <category term="linux" scheme="https://lisuibi.github.io/tags/linux/"/>
    
  </entry>
  
  <entry>
    <title>Python 爬虫系列--爬取百度图片</title>
    <link href="https://lisuibi.github.io/2019/11/01/Python-%E7%88%AC%E8%99%AB%E7%B3%BB%E5%88%97-%E7%88%AC%E5%8F%96%E7%99%BE%E5%BA%A6%E5%9B%BE%E7%89%87/"/>
    <id>https://lisuibi.github.io/2019/11/01/Python-爬虫系列-爬取百度图片/</id>
    <published>2019-11-01T13:10:00.000Z</published>
    <updated>2019-11-01T15:05:34.810Z</updated>
    
    <content type="html"><![CDATA[<h4 id="本篇博文使用python爬虫爬取百度图片"><a href="#本篇博文使用python爬虫爬取百度图片" class="headerlink" title="本篇博文使用python爬虫爬取百度图片"></a>本篇博文使用python爬虫爬取百度图片</h4><h5 id="很久没有写py爬虫了，爬取百度图片的也是之前写的，今天发出来记录一下！供自己学习！"><a href="#很久没有写py爬虫了，爬取百度图片的也是之前写的，今天发出来记录一下！供自己学习！" class="headerlink" title="很久没有写py爬虫了，爬取百度图片的也是之前写的，今天发出来记录一下！供自己学习！"></a>很久没有写py爬虫了，爬取百度图片的也是之前写的，今天发出来记录一下！供自己学习！</h5><p>项目：实现搜索百度图片进行批量下载图片<br>环境：python3.7 + pycharm</p><p>先简单说一下这个项目。当你需要下载大量图片的时候，可能你会去百度图片中一张张下载，但是这样未必太麻烦了。有了这个程序，直接运行程序输入你想要下载图片的关键词，就可以实现批量下载图片。</p><p>下面是程序的截图：<br><img src="/images/20191101214226.png" alt=""></p><p><img src="/images/20191101214354.png" alt=""></p><p>一下子就下载了30张关于‘好嗨哦’关键词的图片，是不是觉得这样下载比较方便….</p><h5 id="好了，回到主题，怎么一步步实现它！"><a href="#好了，回到主题，怎么一步步实现它！" class="headerlink" title="好了，回到主题，怎么一步步实现它！"></a>好了，回到主题，怎么一步步实现它！</h5><p>1.安装python教程，这里推荐一个小白教程：</p><p><a href="https://blog.csdn.net/x_y_csdn/article/details/80576909" target="_blank" rel="noopener">Python安装及环境配置(小白教程)</a></p><p>2.python的IDE，我想大家应该都有吧！我用的是pycharm，大家可以直接到官网下载<a href="https://www.jetbrains.com" target="_blank" rel="noopener">官网链接</a></p><p>3.安装爬虫需要使用到的包:<br>    &emsp;如果你配置的python的环境变量，那么你可以直接cmd<br>    &emsp;键入 pip install requests<br>   &emsp;&emsp;&emsp;&nbsp;pip install re<br>   &emsp;&emsp;&emsp;&nbsp;pip install os</p><p>4.下面将分别介绍它们的用途<br>  &emsp;requests：请求包，用于向url发送请求获取网页信息</p><p>  &emsp;re：正则表达式包，具体详细的知识可以到这里去看<a href="https://www.runoob.com/python/python-reg-expressions.html" target="_blank" rel="noopener">python正则表达式</a></p><p>  &emsp;os：处理文件和目录的包</p><h5 id="下面介绍技巧："><a href="#下面介绍技巧：" class="headerlink" title="下面介绍技巧："></a>下面介绍技巧：</h5><p> 首先，我们打开<a href="'http://image.baidu.com/'">百度图片</a>，然后你可以输入你想要查看的图片，我这里搜索‘好嗨哦’<br> <img src="/images/20191101223428.png" alt=""></p><p> 接着，右键查看网页源代码(谷歌浏览器)，直接搜索objURL<br> <img src="/images/20191101223834.png" alt=""></p><p> 现在我们可以看到这个objURL就是图片的url，现在我们就是要把这些url拿下来。<br> 我们使用正则表达式把，只需一行代码就可以把这些url拿下!<br> <img src="/images/20191101224155.png" alt=""></p><p> 成功拿些这些url，我们就可以用requests包去请求进行下载<br> <img src="/images/20191101225354.png" alt=""></p><p> 其实具体思路就是：分析网页-&gt;匹配图片url-&gt;下载完成</p><p> 源代码：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> re</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line">word = input(<span class="string">'请输入搜索关键字：'</span>)</span><br><span class="line">url = <span class="string">"https://image.baidu.com/search/index?tn=baiduimage&amp;word="</span> + word</span><br><span class="line">headers = &#123;</span><br><span class="line">    <span class="string">'User-Agent'</span>: <span class="string">'Mozilla/5.0 (Windows NT 10.0; WOW64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/73.0.3683.86 Safari/537.36'</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">response = requests.get(url, headers=headers)</span><br><span class="line">result = response.text</span><br><span class="line"></span><br><span class="line"><span class="comment"># 通过正则匹配图片url</span></span><br><span class="line">imgs = re.findall(<span class="string">'"objURL":"(.*?)",'</span>, result, re.S)</span><br><span class="line"></span><br><span class="line">isExists=os.path.exists(word)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> isExists:</span><br><span class="line">    os.mkdir(word)</span><br><span class="line">    print(word + <span class="string">' 文件夹创建成功！'</span>)</span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(word+<span class="string">' 文件夹已存在！'</span>)</span><br><span class="line">x=<span class="number">1</span></span><br><span class="line">print(<span class="string">'开始爬取........'</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> img <span class="keyword">in</span> imgs:</span><br><span class="line">    <span class="comment"># 向图片url发送请求</span></span><br><span class="line">    response = requests.get(img)</span><br><span class="line">    print(<span class="string">'***** '</span>+ word+<span class="string">'/'</span> + str(x) + <span class="string">'.jpg *****'</span> + <span class="string">'   Downloading...'</span>)</span><br><span class="line">    <span class="comment"># 下载图片</span></span><br><span class="line">    <span class="keyword">with</span> open(word+<span class="string">'/'</span> + str(x) + <span class="string">".jpg"</span>, <span class="string">'wb'</span>) <span class="keyword">as</span> f:</span><br><span class="line">        x = x + <span class="number">1</span></span><br><span class="line">        f.write(response.content)</span><br><span class="line"><span class="comment">#下载完成</span></span><br><span class="line">print(<span class="string">'Download complete!'</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;本篇博文使用python爬虫爬取百度图片&quot;&gt;&lt;a href=&quot;#本篇博文使用python爬虫爬取百度图片&quot; class=&quot;headerlink&quot; title=&quot;本篇博文使用python爬虫爬取百度图片&quot;&gt;&lt;/a&gt;本篇博文使用python爬虫爬取百度图片&lt;/h4&gt;&lt;
      
    
    </summary>
    
    
      <category term="-python" scheme="https://lisuibi.github.io/categories/python/"/>
    
    
      <category term="-爬虫" scheme="https://lisuibi.github.io/tags/%E7%88%AC%E8%99%AB/"/>
    
  </entry>
  
  <entry>
    <title>memcache和redis的区别</title>
    <link href="https://lisuibi.github.io/2019/10/31/memcache%E5%92%8Credis%E7%9A%84%E5%8C%BA%E5%88%AB/"/>
    <id>https://lisuibi.github.io/2019/10/31/memcache和redis的区别/</id>
    <published>2019-10-31T13:41:00.000Z</published>
    <updated>2019-11-01T13:21:41.787Z</updated>
    
    <content type="html"><![CDATA[<h4 id="本篇文章记录memcache和redis的区别"><a href="#本篇文章记录memcache和redis的区别" class="headerlink" title="本篇文章记录memcache和redis的区别"></a>本篇文章记录memcache和redis的区别</h4><p>1.memcache 和 redis 都是将数据放在内存里，都是内存数据库。</p><p>2.memcache 存储value只有1MB，redis最大可以达到1GB。</p><p>2.redis不仅支持简单的数据类型，还支持hash,list,set等数据类型。</p><p>3.存储数据安全-memcache断电后，数据就没了；redis可以定期将数据保存到磁盘（持久化）</p><p>4.Redis支持数据的备份，即master-slave模式的数据备份。</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;本篇文章记录memcache和redis的区别&quot;&gt;&lt;a href=&quot;#本篇文章记录memcache和redis的区别&quot; class=&quot;headerlink&quot; title=&quot;本篇文章记录memcache和redis的区别&quot;&gt;&lt;/a&gt;本篇文章记录memcache和re
      
    
    </summary>
    
    
      <category term="-php" scheme="https://lisuibi.github.io/categories/php/"/>
    
    
      <category term="-缓存" scheme="https://lisuibi.github.io/tags/%E7%BC%93%E5%AD%98/"/>
    
  </entry>
  
  <entry>
    <title>phpstudy2018 安装redis拓展</title>
    <link href="https://lisuibi.github.io/2019/07/28/phpstudy2018-%E5%AE%89%E8%A3%85redis%E6%8B%93%E5%B1%95/"/>
    <id>https://lisuibi.github.io/2019/07/28/phpstudy2018-安装redis拓展/</id>
    <published>2019-07-28T05:26:00.000Z</published>
    <updated>2019-11-01T13:22:23.358Z</updated>
    
    <content type="html"><![CDATA[<h4 id="本篇博文使用phpstudy2018安装redis拓展"><a href="#本篇博文使用phpstudy2018安装redis拓展" class="headerlink" title="本篇博文使用phpstudy2018安装redis拓展"></a>本篇博文使用phpstudy2018安装redis拓展</h4><p>phpstudy 安装redis拓展，首先要在php-redis官网下载库文件，<a href="http://pecl.php.net/package/redis" target="_blank" rel="noopener">http://pecl.php.net/package/redis</a> </p><p><img src="/images/20190728144712.png" alt=""></p><p>windows系统点击右边的DLL进行下载，当前我选择的版本是5.0.1</p><p><img src="/images/20190728145314.png" alt=""><br>注意注意(别踩坑)：<br>通过phpinfo()查看自己的php版本（根据自己的php环境版本下载对应的redis库文件）：<br><img src="/images/20190728145728.png" alt=""></p><p>我当前是version 7.1.13 Architecture为x86，那么我应该下载对应php 7.1 的x86版本的redis库文件：<br><img src="/images/20190728150134.png" alt=""></p><p>下载解压，将php_redis.pdb，php_redis.dll两个文件放入对应php版本中的ext文件夹中：<br><img src="/images/20190728150537.png" alt=""></p><p>修改php.ini配置文件：<br><img src="/images/20190728150825.png" alt=""></p><p>完成之后，重启phpstudy；<br>phpinfo()，如果出现redis如图，那么就安装完成：<br><img src="/images/20190728151113.png" alt=""></p><p>大功告成，奋斗吧，骚年！！<br><img src="/images/46.jpg" alt=""></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h4 id=&quot;本篇博文使用phpstudy2018安装redis拓展&quot;&gt;&lt;a href=&quot;#本篇博文使用phpstudy2018安装redis拓展&quot; class=&quot;headerlink&quot; title=&quot;本篇博文使用phpstudy2018安装redis拓展&quot;&gt;&lt;/a&gt;本篇博文使
      
    
    </summary>
    
    
    
      <category term="-php" scheme="https://lisuibi.github.io/tags/php/"/>
    
  </entry>
  
</feed>
